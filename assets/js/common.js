!function(){function t(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function e(){try{return localStorage.getItem("theme")||"system"}catch(t){return"system"}}function n(){const n=e();"system"===n?(document.documentElement.removeAttribute("data-theme-setting"),t()?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")):(document.documentElement.setAttribute("data-theme-setting",n),"dark"===n?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"))}function o(){const t=e();let n;n="system"===t?"dark":"dark"===t?"light":"system",window.setThemeSetting(n)}function i(){n();const t=document.getElementById("light-toggle");if(t&&t.addEventListener("click",function(t){t.preventDefault(),o()}),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),o=function(){"system"===e()&&n()};"function"==typeof t.addEventListener?t.addEventListener("change",o):"function"==typeof t.addListener&&t.addListener(o)}}function d(){window.__alfolioPublicationTogglesBound||(window.__alfolioPublicationTogglesBound=!0,document.addEventListener("click",function(t){const e=t.target.closest("a.abstract.btn"),n=t.target.closest("a.bibtex.btn"),o=t.target.closest("a.award.btn"),i=e||n||o;if(!i)return;t.preventDefault();const d=i.closest(".links");if(!d)return;const c=d.parentElement;if(!c)return;let a=null;if(n)a=c.querySelector(".bibtex.hidden");else if(o)a=c.querySelector(".award.hidden");else if(e){const t=c.querySelectorAll(".abstract.hidden");if(!t.length)return;a="video"===(i.textContent||"").trim().toLowerCase()&&t.length>1?t[t.length-1]:t[0]}a&&a.classList.toggle("open")}))}window.setThemeSetting=function(t){t||(t="system");try{localStorage.setItem("theme",t)}catch(t){}n()},window.initTheme=function(){n()},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){i(),d()}):(i(),d())}();