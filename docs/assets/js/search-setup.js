!function(){function e(){return document.querySelector("ninja-keys")}function r(){var r=e();return r&&Array.isArray(r.data)?r.data.filter(function(e){return!(!e||"string"!=typeof e.title||"function"!=typeof e.handler)&&"Dropdown"!==e.section&&"Posts"!==e.section}).map(function(e){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.title=String(e.title).replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),r}):[]}function t(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(){var e=document.getElementById("alfolio-search-fallback");if(e)return e;var r=document.createElement("div");return r.id="alfolio-search-fallback",r.style.cssText=["position:fixed","inset:0","background:rgba(0,0,0,.35)","display:none","align-items:flex-start","justify-content:center","padding:6vh 1rem 1rem","z-index:2000"].join(";"),r.innerHTML='<div style="width:min(920px, 100%); background:var(--global-card-bg-color, #fff); color:var(--global-text-color, #111); border:1px solid var(--global-divider-color, #ddd); border-radius:14px; box-shadow:0 14px 40px rgba(0,0,0,.22); overflow:hidden;">  <div style="padding:.9rem 1rem; border-bottom:1px solid var(--global-divider-color, #ddd);">    <input id="alfolio-search-input" type="text" placeholder="Type to start searching" style="width:100%; border:0; outline:0; background:transparent; color:inherit; font-size:1.05rem;" />  </div>  <div id="alfolio-search-results" style="max-height:55vh; overflow:auto; padding:.45rem .55rem .55rem;"></div>  <div style="display:flex; flex-wrap:wrap; gap:.65rem 1rem; align-items:center; padding:.55rem .8rem; border-top:1px solid var(--global-divider-color, #ddd); color:var(--global-text-color-light, #666); font-size:.82rem;">    <span><kbd style="padding:.12rem .38rem; border-radius:.3rem; border:1px solid var(--global-divider-color, #ddd); background:var(--global-bg-color, #f4f4f4); font:inherit;">\u21b5</kbd> to select</span>    <span><kbd style="padding:.12rem .38rem; border-radius:.3rem; border:1px solid var(--global-divider-color, #ddd); background:var(--global-bg-color, #f4f4f4); font:inherit;">\u2191</kbd> <kbd style="padding:.12rem .38rem; border-radius:.3rem; border:1px solid var(--global-divider-color, #ddd); background:var(--global-bg-color, #f4f4f4); font:inherit;">\u2193</kbd> to navigate</span>    <span><kbd style="padding:.12rem .38rem; border-radius:.3rem; border:1px solid var(--global-divider-color, #ddd); background:var(--global-bg-color, #f4f4f4); font:inherit;">esc</kbd> to close</span>  </div></div>',document.body.appendChild(r),r.addEventListener("click",function(e){e.target===r&&s()}),document.addEventListener("keydown",function(e){"none"!==r.style.display&&"Escape"===e.key&&(e.preventDefault(),s())}),r}function n(){return Array.prototype.slice.call(document.querySelectorAll("#alfolio-search-results button[data-fallback-search-result]"))}function i(e,r){e&&(e.style.background=r?"var(--global-bg-color, rgba(0,0,0,.03))":"transparent",e.style.outline=r?"1px solid var(--global-divider-color, #ddd)":"none")}function a(e){var r=n();if(r.length){e<0&&(e=r.length-1),e>=r.length&&(e=0),u.activeIndex=e,r.forEach(function(r,t){i(r,t===e)});try{r[e].scrollIntoView({block:"nearest"})}catch(t){r[e].scrollIntoView(!1)}}else u.activeIndex=-1}function l(){var e=u.activeIndex;e<0&&(e=0);var r=n();r[e]&&r[e].click()}function d(e){var o=document.getElementById("alfolio-search-results");if(o){var n=(e||"").trim().toLowerCase(),l=r(),d=l;if(n&&(d=l.filter(function(e){return-1!==[e.title,e.description||"",e.section||""].join(" ").toLowerCase().indexOf(n)})),d=d.slice(0,20),u.results=d,u.activeIndex=-1,d.length){o.innerHTML="";var c=null;d.forEach(function(e,r){var n=e.section||"Results";if(n!==c){var l=document.createElement("div");l.textContent=n,l.style.cssText=["font-size:.78rem","font-weight:600","letter-spacing:.02em","opacity:.75","padding:.4rem .45rem .3rem","text-transform:none"].join(";"),o.appendChild(l),c=n}var d=document.createElement("button");d.type="button",d.setAttribute("data-fallback-search-result",String(r)),d.style.cssText=["width:100%","text-align:left","border:0","background:transparent","color:inherit","padding:.55rem .6rem","border-radius:10px","cursor:pointer","display:block","margin-bottom:.12rem"].join(";");var f=e.title||"",p=e.description||"";d.innerHTML='<div style="font-weight:700; font-size:1rem; line-height:1.25;">'+t(f)+"</div>"+(p?'<div style="font-size:.86rem; opacity:.84; margin-top:.14rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">'+t(p)+"</div>":""),d.addEventListener("click",function(){s(),e.handler()}),d.addEventListener("mouseenter",function(){a(r)}),d.addEventListener("mouseleave",function(){i(d,r===u.activeIndex)}),o.appendChild(d)}),a(0)}else o.innerHTML='<div style="padding:.8rem; color:var(--global-text-color-light, #666); font-size:.92rem;">No results found.</div>'}}function c(){o().style.display="flex";var e=document.getElementById("alfolio-search-input");e&&(e.value="",d(""),setTimeout(function(){e.focus()},0),e.oninput=function(){d(e.value)},e.onkeydown=function(e){return"ArrowDown"===e.key?(e.preventDefault(),void a(u.activeIndex+1)):"ArrowUp"===e.key?(e.preventDefault(),void a(u.activeIndex-1)):"Enter"===e.key?(e.preventDefault(),void l()):void("Escape"===e.key&&(e.preventDefault(),s()))})}function s(){var e=document.getElementById("alfolio-search-fallback");e&&(e.style.display="none",u.activeIndex=-1,u.results=[])}var u={results:[],activeIndex:-1};window.openSearchModal=function(){var r=e();r&&"function"==typeof r.open?r.open():c()},window.closeSearchModal=s}();