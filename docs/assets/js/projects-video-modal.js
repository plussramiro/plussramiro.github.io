!function(){const e=/(youtube\.com|youtu\.be)/i,t="video-modal",o="is-open",a="Project Video",n=".projects a[href], a.teaching-video-link[href]",r=e=>String(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),i=e=>{try{return new URL(e,window.location.origin).href}catch(e){return""}},d=e=>{try{const t=new URL(e,window.location.origin),o=t.hostname.replace(/^www\./,"");if("youtu.be"===o)return t.pathname.replace(/^\/+/,"").split("/")[0]||null;if(!o.endsWith("youtube.com"))return null;if("/watch"===t.pathname)return t.searchParams.get("v");const a=t.pathname.split("/").filter(Boolean),n=a.findIndex(e=>"embed"===e||"shorts"===e);if(n>=0&&a[n+1])return a[n+1]}catch(e){return null}return null},l=()=>{const e=document.querySelector(`.${t}`);if(e)return e;const n=document.createElement("div");n.className=t,n.setAttribute("aria-hidden","true"),n.innerHTML=`\n      <div class="video-modal__dialog" role="dialog" aria-modal="true" aria-label="Video preview">\n        <div class="video-modal__header">\n          <span class="video-modal__title">${a}</span>\n          <button type="button" class="video-modal__close" aria-label="Close video">&times;</button>\n        </div>\n        <div class="video-modal__frame-wrap">\n          <iframe class="video-modal__frame" title="Project video" allow="autoplay; encrypted-media; picture-in-picture; web-share" allowfullscreen></iframe>\n        </div>\n        <div class="video-modal__footer">\n          <div class="video-modal__meta"></div>\n          <a class="video-modal__open-link" target="_blank" rel="noopener noreferrer">Open in YouTube</a>\n        </div>\n      </div>\n    `,document.body.appendChild(n);return n.querySelector(".video-modal__close").addEventListener("click",()=>u(n)),n.addEventListener("click",e=>{e.target===n&&u(n)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains(o)&&u(n)}),n},s=(e,t,o)=>{const a=[],n=r(e),d=r(t),l=i(o);return n&&a.push(`<span>${n}</span>`),d&&l?a.push(`<a href="${l}" target="_blank" rel="noopener noreferrer">${d}</a>`):d&&a.push(`<span>${d}</span>`),a.join(" - ")},c=(e,t)=>{const n=d(e);if(!n)return void window.open(e,"_blank","noopener,noreferrer");const r=l(),i=r.querySelector(".video-modal__frame"),c=r.querySelector(".video-modal__title"),u=r.querySelector(".video-modal__meta"),m=r.querySelector(".video-modal__open-link"),v=t?.dataset.videoTitle||a,p=t?.dataset.videoCaption||"",_=t?.dataset.videoSourceLabel||"",f=t?.dataset.videoSourceUrl||"";c.textContent=v,u.innerHTML=s(p,_,f),i.src=`https://www.youtube.com/embed/${n}?autoplay=1&rel=0`,m.href=e,r.classList.add(o),r.setAttribute("aria-hidden","false"),document.body.classList.add("video-modal-open")},u=e=>{e.querySelector(".video-modal__frame").src="",e.classList.remove(o),e.setAttribute("aria-hidden","true"),document.body.classList.remove("video-modal-open")};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(n).forEach(t=>{const o=t.getAttribute("href");o&&e.test(o)&&t.addEventListener("click",e=>{e.defaultPrevented||0===e.button&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),c(o,t)))})})})}();